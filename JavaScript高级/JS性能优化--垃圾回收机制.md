>  清华大佬精心打造 JavaScript 高级进阶教程全集，详细讲讲高效书写 JavaScript 的骚操作
> https://www.bilibili.com/video/BV1sy4y137Nh?p=1

### 1、内存管理

- 内存：有可读写单元组成，表示一片可操作空间
- 管理：人为的去操作一片空间的申请、使用、释放

### 2、垃圾回收 

#### 2.1、JavaScript垃圾回收

- JavaScript内存管理是自动
- 对象不再引用时是垃圾
- 对象不能从根部访问到时是垃圾

#### 2.2、Javascript中可达对象

- 可访问到的对象即为可达对象（引用、作用域链）；
- 可达标准是从根部出发是否能够被找到；
- Javascipt中根可以理解为全局变量对象；

####  2.3、JavaScript中引用和可达

### 3、常见GC算法

GC指Garbage Collection

#### 3.1、GC的定义和作用

- GC就是垃圾回收的简写；
- GC可以找到内存中的垃圾、并释放和回收空间；

#### 3.2、GC里面的垃圾定义

- 程序中不在需要使用的对象；

#### 3.3、GC算法是什么

- GC是一种机制、垃圾回收器完成具体的工作；
- 工作的内容就是查找垃圾释放空间、回收空间；
- 算法就是工作是查找和回收所遵循的规则；

#### 3.4、常见GC算法

- 引用计数
- 标记清除
- 标记整理
- 分代回收

#### 3.5、引用计数算法

- 核心思想；设置引用数，判断当前引用数是否为0；
- 引用计数器； 
- 引用关系发生变化时修改引用数字；
- 引用数字为0时立即回收；
- 优点
  - 可以即时回收垃圾对象；
  - 减少程序卡顿时间；
- 缺点：
  - 无法回收循环引用的对象；
  - 资源消耗较大；   

```javascript
// 使用引用计数算法问题
// 该示例中存在循环引用问题，fn执行完毕后obj1、obj2并不会被回收掉
// 只是释放掉函数内部引用，但是存在对象属性的引用；
function fn(){
  const obj1 = {};
  const obj2 = {};
  
  obj1.name = obj2;
  obj2.name = obj1;
}
fn();
```

####  3.6、标记清除算法

- 核心思想：分标记、清除两个阶段完成；
- 遍历所有对象找标记活动对象；
- 遍历所有对象清除没有标记对象；
- 回收相应的空间；
- 优点
  - 可以回收循环引用的对象；
- 缺点
  -  容易产生碎片化空间，造成空间浪费；
  - 不能立即回收垃圾对象；

#### 3.7、标记整理算法

- 标记整理可以看做时标记清除的增强；
- 标记阶段的操作和标记清除一致；
- 清除阶段会先执行整理，移动对象位置；
- 优点
  - 减少碎片空间；
- 缺点
  - 不会立即回收垃圾对象；

### 4、V8引擎的垃圾回收

#### 4.1、认识V8

- V8是一款主流JavaScript执行引擎；
- V8采用即时编译；
- V8内存设限（64位：1.5G，32位：800M）；
  - 网页运行环境，
  - 内部垃圾回收机制限制；垃圾内存达到1.5G时，采用增量标记回收话，需要消耗50ms，采用非标记增量回收，需要1s

#### 4.2、V8垃圾回收策略

- 采用分代回收思想
- 内存分为新生代、老生代存储区；
- 针对不同对象采用不同算法；

#### 4.3、V8中常用的GC算法

- 分代回收
- 空间复制
- 标记清除
- 标记整理
- 标记增量

#### 4.4、V8如何回收新生代对象



### 5、Performance工具

### 6、代码优化实例

### 7、其他

- Nodemon